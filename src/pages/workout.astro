---
import Layout from '../layouts/Layout.astro';
import LiveWorkoutForm from '../components/LiveWorkoutForm.astro';

// TODO: TEMPORAL |Simulación de una rutina cargada desde la base de datos o localStorage
const routine = {
  id: 'routine-123',
  name: 'Día de Empuje - Semana 4',
  exercises: [
    {
      id: 'ex-1',
      name: 'Press de Banca',
      sets: [
        { id: 'set-1-1', targetReps: 8, targetWeight: 80 },
        { id: 'set-1-2', targetReps: 8, targetWeight: 80 },
        { id: 'set-1-3', targetReps: 8, targetWeight: 80 },
        { id: 'set-1-4', targetReps: 8, targetWeight: 80 },
      ]
    },
    {
      id: 'ex-2',
      name: 'Press Militar con Mancuernas',
      sets: [
        { id: 'set-2-1', targetReps: 10, targetWeight: 20 },
        { id: 'set-2-2', targetReps: 10, targetWeight: 20 },
        { id: 'set-2-3', targetReps: 10, targetWeight: 20 },
      ]
    },
    {
      id: 'ex-3',
      name: 'Aperturas en Cable',
      sets: [
        { id: 'set-3-1', targetReps: 12, targetWeight: 15 },
        { id: 'set-3-2', targetReps: 12, targetWeight: 15 },
        { id: 'set-3-3', targetReps: 12, targetWeight: 15 },
      ]
    }
  ]
};
---

<Layout>
  <div class="workout-container">
    <header class="workout-header">
      <h1>{routine.name}</h1>
      <p>¡Es hora de entrenar! Registra tus series a medida que las completas.</p>
    </header>
    
    <!-- TODO: TEMPORAL | Isla de Datos: Incrustamos los datos como JSON en el HTML -->
    <script id="routine-data" type="application/json">
      {JSON.stringify(routine)}
    </script>

    <LiveWorkoutForm />

  </div>
</Layout>

<style>

  .workout-container {
    max-width: 56rem;
    margin: 4rem auto;
    padding: 2rem;
  }

  .workout-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .workout-header h1 {
    font-family: 'Poppins', sans-serif;
    font-size: 2.25rem;
    font-weight: 700;
    color: var(--primary-color);
    margin-bottom: 0.5rem;
  }

  .workout-header p {
    font-family: 'Lato', sans-serif;
    font-size: 1.125rem;
    color: var(--primary-color);
    opacity: 0.9;
  }
</style>
